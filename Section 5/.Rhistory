library("googleAuthR")
library("googleAnalyticsR")
library("ggplot2")
## authenticate, or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()
## get your accounts
account_list <- ga_account_list()
account_list$viewId
ga_id <- 162301128
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-07"), metrics = c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces","ga:goal1Completions","ga:goal2Completions"),dimensions = c("ga:campaign"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), metrics = c("ga:socialInteractionNetwork"), dimensions = c(ga:socialInteractions))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), metrics = c("ga:socialInteractionNetwork"), dimensions = c("ga:socialInteractions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork"), metrics = c("ga:socialInteractions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork"), metrics = c("ga:users"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionTarget"), metrics = c("ga:users"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionTarget"), metrics = c("ga:users"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:goal1Completions","ga:goal2Completions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:goal1Completions","ga:goal2Completions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:goal1Completions","ga:goal2Completions"))
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:avgTimeOnPage"))
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:avgTimeOnPage","ga:timeOnPage"))
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate"))
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration"))
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:medium"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration"))
# total
temp_ga_data
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:referralPath"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:hasSocialSourceReferral"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metric=c("ga:socialInteractions","ga:uniqueSocialInteractions","ga:socialInteractionsPerSession"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metric=c("ga:socialInteractions","ga:uniqueSocialInteractions","ga:socialInteractionsPerSession"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metrics=c("ga:socialInteractions","ga:uniqueSocialInteractions","ga:socialInteractionsPerSession"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metrics=c("ga:socialInteractions","ga:uniqueSocialInteractions","ga:socialInteractionsPerSession"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metrics=c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces","ga:socialInteractions","ga:uniqueSocialInteractions","ga:socialInteractionsPerSession"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction","ga:socialInteractionTarget","ga:socialEngagementType"), metrics=c("ga:users", "ga:newUsers","ga:sessions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionAction","ga:socialInteractionNetworkAction"), metrics=c("ga:users", "ga:newUsers","ga:sessions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionAction"), metrics=c("ga:users", "ga:newUsers","ga:sessions"))
# is there a way for us to look at conversions?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:goal1Completions","ga:goal2Completions"))
# is there a way to measure engagement?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:hasSocialSourceReferral"), metrics = c("ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration"))
temp_ga_data
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialInteractionAction"), metrics=c("ga:users", "ga:newUsers","ga:sessions"))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork","ga:socialInteractionAction"), metrics=c("ga:users", "ga:newUsers","ga:sessions"))
setwd("~/Documents/RCourse (Volume 2)/Section 5")
# First way is going to be the traffic sources
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces"))
# is there a way for us to look at conversions?
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:goal1Completions","ga:goal2Completions"))
# First way is going to be the traffic sources
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces","ga:goal1Completions","ga:goal2Completions","ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession", "ga:exitRate","ga:avgSessionDuration" ))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces","ga:goal1Completions","ga:goal2Completions","ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession","ga:avgSessionDuration" ))
temp_ga_data = google_analytics_4(ga_id, date_range = c("2017-10-01", "2017-11-20"), dimensions = c("ga:socialNetwork"), metrics = c("ga:users", "ga:newUsers","ga:sessions", "ga:bounces","ga:goal1Completions","ga:goal2Completions","ga:avgTimeOnPage","ga:entranceRate", "ga:pageviewsPerSession","ga:avgSessionDuration" ))
temp_ga_data
write.table(temp_ga_data, file="5.2_ExampleFile.csv", sep=",")
write.table(temp_ga_data, file="5.2_ExampleFile.csv", sep=",", row.names=F)
# Read in the CSV File
ga_data = read.csv("5.2_ExampleFile.csv", sep=",", header=T)
library("ggplot2")
library("reshape")
library("scales")
library("ggsci")
temp_ga_data = read.table("5.2_ExampleFile.csv")
temp_ga_data = read.table("5.2_ExampleFile.csv", sep=",")
head(temp_ga_data)
temp_ga_data = read.table("5.2_ExampleFile.csv", sep=",", header=T)
temp_ga_data
ga_data = read.table("5.2_ExampleFile.csv", sep=",", header=T)
ga_data$socialNetwork = factor(ga_data$socialNetwork, levels = ga_data$socialNetwork)
ga_data
ga_data.users.sessions = ga_data[,c("socialNetwork", "users", "sessions")]
ga_data.users.sessions
# users and sessios and bounces
bp <- ggplot(ga_data.users.sessions, aes(x=socialNetwork, y=sessions, fill=medium))+
geom_bar(width = 1, stat = "identity")
bp
# users and sessios and bounces
bp <- ggplot(ga_data.users.sessions, aes(x="", y=users, fill=socialNetwork))+
geom_bar(width = 1, stat = "identity")
bp
pie <- bp + coord_polar("y", start=0) + blank_theme
pie
library("googleAuthR")
library("googleAnalyticsR")
library("ggplot2")
# users and sessios and bounces
bp <- ggplot(ga_data.users.sessions, aes(x="", y=users, fill=socialNetwork))+
geom_bar(width = 1, stat = "identity")
bp
pie <- bp + coord_polar("y", start=0) + blank_theme
pie
?coord_polar
pie <- bp + coord_polar("y", start=0) + blank_theme
pie
blank_theme <- theme_minimal()+
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.border = element_blank(),
panel.grid=element_blank(),
axis.ticks = element_blank(),
plot.title=element_text(size=14, face="bold")
)
# users and sessios and bounces
bp <- ggplot(ga_data.users.sessions, aes(x="", y=users, fill=socialNetwork))+
geom_bar(width = 1, stat = "identity")
bp
pie <- bp + coord_polar("y", start=0) + blank_theme
pie
library("reshape")
library("scales")
library("ggsci")
vals <- c(239, 52, 9)
val_names <- sprintf("%s (%s)", c("Negative", "Positive", "Neutral"), scales::percent(round(vals/sum(vals), 2)))
names(vals) <- val_names
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
install.packages("waffle")
vals <- c(239, 52, 9)
val_names <- sprintf("%s (%s)", c("Negative", "Positive", "Neutral"), scales::percent(round(vals/sum(vals), 2)))
names(vals) <- val_names
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
install.packages("ggthemes")
library("googleAuthR")
library("googleAnalyticsR")
library("ggplot2")
library("reshape")
library("scales")
library("ggsci")
library("ggthemes")
vals <- c(239, 52, 9)
val_names <- sprintf("%s (%s)", c("Negative", "Positive", "Neutral"), scales::percent(round(vals/sum(vals), 2)))
names(vals) <- val_names
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
vals <- c(239, 52, 9)
val_names <- sprintf("%s (%s)", c("Negative", "Positive", "Neutral"), scales::percent(round(vals/sum(vals), 2)))
names(vals) <- val_names
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
vals
ga_data.users.sessions
val_names <- sprintf("%s (%s)", ga_data.users.sessions$socialNetwork, scales::percent(round(ga_data.users.sessions$users/sum(ga_data.users.sessions$users), 2)))
val_names
names(vals) <- val_names
vals <- ga_data.users.sessions$users
val_names <- sprintf("%s (%s)", ga_data.users.sessions$socialNetwork, scales::percent(round(ga_data.users.sessions$users/sum(ga_data.users.sessions$users), 2)))
names(vals) <- val_names
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
vals
naemes(vals)
names(vals)
waffle::waffle(vals)
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
bp <- ggplot(ga_data.users.sessions, aes(x="", y=users, fill=socialNetwork))+
geom_bar(width = 1, stat = "identity")
scale_fill_tableau
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
vals <- ga_data.users.sessions$users
val_names <- sprintf("%s (%s)", ga_data.users.sessions$socialNetwork, scales::percent(round(ga_data.users.sessions$users/sum(ga_data.users.sessions$users), 2)))
names(vals) <- val_names
vals
waffle::waffle(vals) +
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals)
?waffle
waffle::waffle(vals, rows = 10) +
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals, rows = 10)
vals
waffle::waffle(vals/100, rows = 10) +
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals/10, rows = 10) +
ggthemes::scale_fill_tableau(name=NULL)
waffle::waffle(vals/20, rows = 10) +
ggthemes::scale_fill_tableau(name=NULL)
savings <- c(`Mortgage\n($84,911)`=84911, `Auto and\ntuition loans\n($14,414)`=14414,
`Home equity loans\n($10,062)`=10062, `Credit Cards\n($8,565)`=8565)
savings <- c(`Mortgage\n($84,911)`=84911, `Auto and\ntuition loans\n($14,414)`=14414,
`Home equity loans\n($10,062)`=10062, `Credit Cards\n($8,565)`=8565)
waffle(savings/392, rows=7, size=0.5, legend_pos="bottom",
colors=c("#c7d4b6", "#a3aabd", "#a0d0de", "#97b5cf"))
waffle(savings/392, rows=7, size=0.5, legend_pos="bottom",
colors=c("#c7d4b6", "#a3aabd", "#a0d0de", "#97b5cf"))
library("waffle")
savings <- c(`Mortgage\n($84,911)`=84911, `Auto and\ntuition loans\n($14,414)`=14414,
`Home equity loans\n($10,062)`=10062, `Credit Cards\n($8,565)`=8565)
waffle(savings/392, rows=7, size=0.5, legend_pos="bottom",
colors=c("#c7d4b6", "#a3aabd", "#a0d0de", "#97b5cf"))
vals <- ga_data.users.sessions$users
val_names <- sprintf("%s (%s)", ga_data.users.sessions$socialNetwork, scales::percent(round(ga_data.users.sessions$users/sum(ga_data.users.sessions$users), 2)))
names(vals) <- val_names
waffle::waffle(vals/20, rows = 10)
waffle(vals/20, rows = 10, legend_pos = "bottom")
waffle(vals/20, rows = 10, legend_pos = "bottom", title="Staunton River Trout Abundance (1997)", xlab="1 square = 20 visitors")
vals <- ga_data.users.sessions$sessions
val_names <- sprintf("%s (%s)", ga_data.users.sessions$socialNetwork, scales::percent(round(ga_data.users.sessions$sessions/sum(ga_data.users.sessions$sessions), 2)))
names(vals) <- val_names
waffle(vals/20, rows = 10, legend_pos = "bottom", title="Sessions by Social Network", xlab="1 square = 20 sessions")
waffle(vals/50, rows = 10, legend_pos = "bottom", title="Sessions by Social Network", xlab="1 square = 50 sessions")
# code for each of the dashboard components.
ga_data = read.table("5.2_ExampleFile.csv", sep=",", header=T)
# cleaning up data
ga_data$socialNetwork = factor(ga_data$socialNetwork, levels = ga_data$socialNetwork)
# Users by Social Network
vals <- ga_data$users
val_names <- sprintf("%s (%s)", ga_data$socialNetwork, scales::percent(round(ga_data$users/sum(ga_data$users), 2)))
names(vals) <- val_names
waffle(vals/20, rows = 10, legend_pos = "bottom", title="Visitors by Social Network", xlab="1 square = 20 visitors")
# sessions by Social Network
vals <- ga_data$sessions
val_names <- sprintf("%s (%s)", ga_data$socialNetwork, scales::percent(round(ga_data$sessions/sum(ga_data$sessions), 2)))
names(vals) <- val_names
waffle(vals/50, rows = 10, legend_pos = "bottom", title="Sessions by Social Network", xlab="1 square = 50 sessions")
head(ga_data)
df <- data.frame(Person = c("Mr.A","Mr.B"), Cats = c(3,4), Dogs = c(1,2))
data.m <- melt(df, id.vars='Person')
ggplot(data.m, aes(Person, value)) + geom_bar(aes(fill = variable),
width = 0.4, position = position_dodge(width=0.5), stat="identity") +
theme(legend.position="top", legend.title =
element_blank(),axis.title.x=element_blank(),
axis.title.y=element_blank())
ga_data
ga_data.goals = ga_data[,c("socialNetwork", "goal1Completions", "goal2Completions")]
ga_data.goals = ga_data[,c("socialNetwork", "goal1Completions", "goal2Completions")]
ga_data.goals.melt = melt(ga_data.goals, id.vars = "socialNetwork")
ga_data.goals.melt
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.4, position = position_dodge(width = 0.5), stat = "identity") + theme(legend.position = "top", legend.title = element_blank(), axis.title.x = element_blank(), axis.title.y = element_blank())
ga_data.avgTime = ga_data[,c("socialNetwork", "avgTimeOnPage")]
ga_data.avgTime = ga_data[,c("socialNetwork", "avgTimeOnPage")]
ggplot(ga_data.avgTime, aes(x=socialNetwork, y=avgTimeOnPage)) +
geom_bar(stat="identity", width=.5, fill="#00A087B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Traffic for Campaign B", subtitle="October 2017",x = "Metric", y="Num Visitors")
?ga_data
head(ga_data)
ga_data.pageViews = ga_data[,c("socialNetwork", "pageviewsPerSession")]
ggplot(ga_data.pageViews, aes(x=socialNetwork, y=pageviewsPerSession)) +
geom_bar(stat="identity", width=.5, fill="#00A087B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Traffic for Campaign B", subtitle="October 2017",x = "Social Network", y="Segonds")
ga_data.sessionDuration = ga_data[,c("socialNetwork", "avgSessionDuration")]
ggplot(ga_data.sessionDuration, aes(x=socialNetwork, y=avgSessionDuration)) +
geom_bar(stat="identity", width=.5, fill="#00A087B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Traffic for Campaign B", subtitle="October 2017",x = "Social Network", y="Segonds")
# Users by Social Network
ga_data.users <- ga_data$users
names(ga_data.users) <- sprintf("%s (%s)", ga_data$socialNetwork, scales::percent(round(ga_data$users/sum(ga_data$users), 2)))
names(ga_data.users)
ga_data.users
ggplot(ga_data.sessionDuration, aes(x=socialNetwork, y=avgSessionDuration)) +
geom_bar(stat="identity", width=.5, fill="#E64B35B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Average Session Duration", subtitle="November 2017",x = "Social Network", y="Seconds")
ggplot(ga_data.pageViews, aes(x=socialNetwork, y=pageviewsPerSession)) +
geom_bar(stat="identity", width=.5, fill="#3C5488B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Average Pageviews", subtitle="November 2017",x = "Social Network", y="PageViews")
ggplot(ga_data.avgTime, aes(x=socialNetwork, y=avgTimeOnPage)) +
geom_bar(stat="identity", width=.5, fill="#00A087B2", colour="black") + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title="Traffic for Campaign B", subtitle="October 2017",x = "Social Network", y="Segonds")
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.4, position = position_dodge(width = 0.5), stat = "identity") + theme(legend.position = "top", legend.title = element_blank(), axis.title.x = element_blank(), axis.title.y = element_blank())
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.4, position = position_dodge(width = 0.5), stat = "identity") +  theme_bw()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.4, position = position_dodge(width = 0.5), stat = "identity") +  theme_bw() + scale_color_npg()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.4, position = position_dodge(width = 0.5), stat = "identity") +  theme_bw() + scale_fill_aaas()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.5), stat = "identity") +  theme_bw() + scale_fill_aaas()
waffle(ga_data.sessions/50, rows = 10, legend_pos = "bottom", title="Sessions by Social Network", xlab="1 square = 50 sessions")
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.5), stat = "identity") +  theme_bw() + scale_fill_d3()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") +  theme_bw() + scale_fill_d3()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") +  theme_minimal() + scale_fill_d3()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_d3()
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_discrete(name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_discrete(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable, color="black"), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable,colour="black"), width = 0.6, position = position_dodge(width = 0.7), stat = "identity") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity",colour="black") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition",
breaks=c("ctrl", "trt1"),
labels=c("Purchases", "Subscriptions"))
ga_data.goals.melt
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity",colour="black") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Experimental\nCondition", breaks=c("goal1Completions", "goal2Completions"),labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity",colour="black") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#3C5488B2", "#E64B35B2"), name="Goals", breaks=c("goal1Completions", "goal2Completions"),labels=c("Purchases", "Subscriptions"))
ggplot(ga_data.goals.melt, aes(socialNetwork, value)) + geom_bar(aes(fill = variable), width = 0.6, position = position_dodge(width = 0.7), stat = "identity",colour="black") + xlab("Social Network") + ylab("Completions") + theme_minimal() + scale_fill_manual(values = c("#de2d26", "#3182bd"), name="Goals", breaks=c("goal1Completions", "goal2Completions"),labels=c("Purchases", "Subscriptions"))
library("googleAuthR")
library("googleAnalyticsR")
library("ggplot2")
library("reshape")
library("ggsci")
library("waffle")
# code for each of the dashboard components.
ga_data = read.table("5.2_ExampleFile.csv", sep=",", header=T)
# cleaning up data
ga_data$socialNetwork = factor(ga_data$socialNetwork, levels = ga_data$socialNetwork)
# Users by Social Network
vals <- ga_data$users
val_names <- sprintf("%s (%s)", ga_data$socialNetwork, scales::percent(round(ga_data$users/sum(ga_data$users), 2)))
names(vals) <- val_names
waffle(vals/20, rows = 10, legend_pos = "bottom", title="Visitors by Social Network", xlab="1 square = 20 visitors")
pie <- ggplot(ga_data, aes(x="", y=users, fill=socialNetwork)) +
geom_bar(width = 1, stat = "identity") +
coord_polar("y", start=0)
pie
# code for each of the dashboard components.
ga_data = read.table("5.2_ExampleFile.csv", sep=",", header=T)
head(ga_data)
ga_data$socialNetwork = factor(ga_data$socialNetwork, levels = ga_data$socialNetwork)
ggplot(ga_data, aes(x="", y=sessions, fill=socialNetwork)) +
geom_bar(width = 1, stat = "identity")
+
coord_polar("y", start=0)
ggplot(ga_data, aes(x="", y=sessions, fill=socialNetwork)) +
geom_bar(width = 1, stat = "identity") +
coord_polar("y", start=0)
vals <- ga_data$sessions
val_names <- sprintf("%s (%s)", ga_data$socialNetwork, scales::percent(round(ga_data$sessions/sum(ga_data$sessions), 2)))
val_names
names(vals) <- val_names
vals
waffle(vals/50, rows= 10, legend_pos = "bottom")
waffle(vals/20, rows = 10, legend_pos = "bottom", title="Visitors by Social Network", xlab="1 square = 20 visitors")
